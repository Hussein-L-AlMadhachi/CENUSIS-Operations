import { type Express, type Request, type Response, type NextFunction } from 'express';
export type RPCRequest = {
    method: string;
    params: any[];
};
export type RPCResponse = {
    success: boolean;
    data?: any;
    error?: string;
};
export interface Metadata {
    auth: Record<string, string | number>;
    req?: Request;
    res?: Response;
}
export type RPCHandler = (auth_metadata: Metadata, ...params: any[]) => any | Promise<any>;
export interface ValidatorReturn {
    success: boolean;
    metadata?: Metadata;
}
export type Validator = (req: Request) => ValidatorReturn;
export declare class RPC {
    private functions;
    validator: Validator;
    constructor();
    handler(requestData: RPCRequest, req: Request, res: Response): Promise<RPCResponse>;
    dump(): string[];
    add(functionHandler: RPCHandler, optional_name?: string | null): void;
}
export declare function cookieParser(req: Request, _res: Response, next: NextFunction): void;
export declare function createRPC(app: Express, path: string, validator: Validator): RPC;
//# sourceMappingURL=server.d.ts.map